/*
Fecha: 27 SETIEMBRE 2018
Autor: Mariela Barrantes
Descripcion: PAQUETE (BODY) PARA ATUALIZAR LAS TABLAS NO CATALOGOS
*/

--INSTITUCION
--EVENTO
--ACTIVIDAD

--PERSONA

--CORREO
--TELEFONO
--CONTACTOEMERGENCIA
--USUARIO
--BITACORAUSUARIO
--PARTICIPA** ACTIV - PERSONA
--BITACORAPERSONA

CREATE OR REPLACE 
PROCEDURE UPDATE_INSTITUCION(pidInstitucion IN NUMBER, pNombre IN VARCHAR2)
AS
BEGIN
    UPDATE INSTITUCION
    SET NOMBRE = pNombre
    WHERE ID_INSTITUCION = pidInstitucion;
    COMMIT;
END;

CREATE OR REPLACE 
PROCEDURE UPDATE_EVENTO(pidEvento IN NUMBER, pNombre IN VARCHAR2, pfechai in date, pfechaf in date, plugar in varchar2, pidestado in number)
AS
BEGIN
    UPDATE EVENTO
    SET NOMBRE = pNombre, FECHAINICIO = pfechai, FECHAFIN = pfechaF, LUGAR = plugar, ID_ESTADO = pidestado
    WHERE ID_EVENTO = pidEvento;
    COMMIT;
END;

CREATE OR REPLACE 
PROCEDURE UPDATE_ACTIVIDAD(pidAct IN NUMBER, pNombre IN VARCHAR2, pfecha in date, phorai in date, phoraf in date, 
  pcupo in number, plugar in varchar2, pidevento in number, pidestado in number, pidTpublico in number)
AS
BEGIN
    UPDATE ACTIVIDAD
    SET NOMBRE = pNombre, FECHA = pfecha, HORAINICIO = phorai, HORAFIN = phoraf, CUPO = pcupo, LUGAR = plugar, 
        ID_EVENTO = pidevento, ID_ESTADO = pidestado, ID_TIPO_PUBLICO = pidTpublico
    WHERE ID_ACTIVIDAD = pidAct;
    COMMIT;
END;

CREATE OR REPLACE 
PROCEDURE UPDATE_CORREO(pidCorreo IN NUMBER, pNombre IN VARCHAR2,pidPersona in number)
AS
BEGIN
    UPDATE CORREO
    SET NOMBRE = pNombre, ID_PERSONA = pidPersona
    WHERE ID_DISTRITO = pidDistrito;
    COMMIT;
END;

CREATE OR REPLACE 
PROCEDURE UPDATE_NACIONALIDAD(pidNacionalidad IN NUMBER, pNombre IN VARCHAR2)
AS
BEGIN
    UPDATE NACIONALIDAD
    SET NOMBRE = pNombre
    WHERE ID_NACIONALIDAD = pidNacionalidad;
    COMMIT;
END;

CREATE OR REPLACE 
PROCEDURE UPDATE_OCUPACION(pidOcupacion IN NUMBER, pNombre IN VARCHAR2)
AS
BEGIN
    UPDATE OCUPACION
    SET NOMBRE = pNombre
    WHERE ID_OCUPACION = pidOcupacion;
    COMMIT;
END;

CREATE OR REPLACE 
PROCEDURE UPDATE_ESTADO(pidEstado IN NUMBER, pNombre IN VARCHAR2)
AS
BEGIN
    UPDATE ESTADO
    SET NOMBRE = pNombre
    WHERE ID_ESTADO = pidEstado;
    COMMIT;
END;

CREATE OR REPLACE 
PROCEDURE UPDATE_TPUBLICO(pidTPublico IN NUMBER, pNombre IN VARCHAR2)
AS
BEGIN
    UPDATE TIPOPUBLICO
    SET DESCRIPCION = pNombre
    WHERE ID_TIPOPUBLICO = pidTPublico;
    COMMIT;
END;

CREATE OR REPLACE 
PROCEDURE UPDATE_TERSONA(pidTPersona IN NUMBER, pNombre IN VARCHAR2)
AS
BEGIN
    UPDATE TIPOPERSONA
    SET NOMBRE = pNombre
    WHERE ID_TIPOPERSONA = pidTPersona;
    COMMIT;
END;

CREATE OR REPLACE 
PROCEDURE UPDATE_TPARTIC(pidTPartic IN NUMBER, pNombre IN VARCHAR2)
AS
BEGIN
    UPDATE TIPOPARTICIPANTE
    SET NOMBRE = pNombre
    WHERE ID_TIPOPARTICIPANTE = pidTPartic;
    COMMIT;
END;
